{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/uploadimages.css' %}">
{% endblock %}

{% block content %}
<div class="upload-images-container">
    <h1>Upload Images for {{ listing.title }}</h1>
    <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Drag-and-Drop Zone -->
    <div id="drop-zone" class="drop-zone">
        <p>Drag and drop images here, or click to select files.</p>
        <input type="file" id="images" name="images" multiple>
    </div>

    <!-- Preview Container -->
    <div id="image-preview" class="image-preview"></div>

    <!-- Progress Bar -->
    <div id="upload-progress" class="progress-bar"></div>

    <!-- Buttons -->
    <a href="{% url 'accounts:post_ad' listing.id %}" class="btn btn-primary">Post Ad</a>    
    <button id="bulk-remove" class="btn btn-danger">Remove Selected</button>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
<script src="{% static 'js/upload-images.js' %}"></script>
{% endblock %}